version: 2.1
#jobs:
 # build:
  #  macos:
   #   xcode: 13.4.1 # Specify the Xcode version 
    #steps:
     # - checkout
     # - run: pod install # Install CocoaPods dependencies
      #- run: 
       #   name: Build and run tests
       #   command: fastlane scan 
     # - sonarcloud/scan
     # - store_test_results:
     #     path: test_output
     # - store_artifacts:
      #    path: test_output
       #   destination: scan-output
orbs:
  sonarcloud: sonarsource/sonarcloud@1.0.2
jobs:
  sonar-cloud-orb:
    docker:
      - image: cimg/base:2021.04
    steps:
      - checkout
      - sonarcloud/scan

workflows:
  version: 2
  build-and-deploy:
    jobs:
      - sonar-cloud-orb:
          context: SonarCloud
          filters:
            branches:
              only: main

